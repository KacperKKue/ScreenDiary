<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ScreenDiary.Views.ProfilePage"
             xmlns:viewmodels="clr-namespace:ScreenDiary.ViewModels.Profile"
             Title="Profile"
             BackgroundColor="{AppThemeBinding Light=#F8F9FA, Dark=#121212}">

    <ContentPage.BindingContext>
        <viewmodels:ProfileViewModel />
    </ContentPage.BindingContext>

    <ScrollView>
        <VerticalStackLayout Padding="24" Spacing="25">

            <VerticalStackLayout HorizontalOptions="Center" Spacing="10">
                <Grid>
                    <Border HeightRequest="130" 
                            WidthRequest="130" 
                            StrokeShape="RoundRectangle 65" 
                            StrokeThickness="4"
                            Stroke="{StaticResource Primary}"
                            Padding="0">
                        <Image Source="{Binding AvatarPath, FallbackValue='../Images/default_user.png'}"
                               Aspect="AspectFill"
                               HeightRequest="120"
                               WidthRequest="120"/>
                    </Border>

                    <Button ImageSource="edit_icon.png"
                            Clicked="ChangeAvatar_Clicked"
                            BackgroundColor="{StaticResource Primary}"
                            HeightRequest="40"
                            WidthRequest="40"
                            CornerRadius="20"
                            VerticalOptions="End"
                            HorizontalOptions="End"
                            Margin="0,0,0,0"/>
                </Grid>

                <Entry Text="{Binding Nickname}"
                       Placeholder="Nickname"
                       FontSize="20"
                       FontAttributes="Bold"
                       HorizontalTextAlignment="Center"
                       TextColor="{AppThemeBinding Light=#212121, Dark=White}"
                       BackgroundColor="Transparent" />
            </VerticalStackLayout>

            <BoxView HeightRequest="1" Color="LightGray" Opacity="0.3" />

            <Label Text="Your activity" 
                   FontSize="18" 
                   FontAttributes="Bold" 
                   Margin="5,0,0,0"/>

            <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto" ColumnSpacing="15" RowSpacing="15">

                <Border Grid.Row="0" Grid.Column="0" Padding="15" StrokeShape="RoundRectangle 15" BackgroundColor="{AppThemeBinding Light=White, Dark=#1E1E1E}">
                    <VerticalStackLayout HorizontalOptions="Center">
                        <Label Text="ðŸŽ¬" FontSize="24" HorizontalOptions="Center"/>
                        <Label Text="{Binding MoviesCount}" FontSize="20" FontAttributes="Bold" HorizontalOptions="Center"/>
                        <Label Text="Movies" FontSize="12" TextColor="Gray" HorizontalOptions="Center"/>
                    </VerticalStackLayout>
                </Border>

                <Border Grid.Row="0" Grid.Column="1" Padding="15" StrokeShape="RoundRectangle 15" BackgroundColor="{AppThemeBinding Light=White, Dark=#1E1E1E}">
                    <VerticalStackLayout HorizontalOptions="Center">
                        <Label Text="ðŸ“º" FontSize="24" HorizontalOptions="Center"/>
                        <Label Text="{Binding SeriesCount}" FontSize="20" FontAttributes="Bold" HorizontalOptions="Center"/>
                        <Label Text="Series" FontSize="12" TextColor="Gray" HorizontalOptions="Center"/>
                    </VerticalStackLayout>
                </Border>

                <Border Grid.Row="1" Grid.Column="0" Padding="15" StrokeShape="RoundRectangle 15" BackgroundColor="{AppThemeBinding Light=White, Dark=#1E1E1E}">
                    <VerticalStackLayout HorizontalOptions="Center">
                        <Label Text="âœ…" FontSize="24" HorizontalOptions="Center"/>
                        <Label Text="{Binding FinishedCount}" FontSize="20" FontAttributes="Bold" HorizontalOptions="Center"/>
                        <Label Text="Completed" FontSize="12" TextColor="Gray" HorizontalOptions="Center"/>
                    </VerticalStackLayout>
                </Border>

                <Border Grid.Row="1" Grid.Column="1" Padding="15" StrokeShape="RoundRectangle 15" BackgroundColor="{AppThemeBinding Light=White, Dark=#1E1E1E}">
                    <VerticalStackLayout HorizontalOptions="Center">
                        <Label Text="â¤ï¸" FontSize="24" HorizontalOptions="Center"/>
                        <Label Text="{Binding FavoritesCount}" FontSize="20" FontAttributes="Bold" HorizontalOptions="Center"/>
                        <Label Text="Favorites" FontSize="12" TextColor="Gray" HorizontalOptions="Center"/>
                    </VerticalStackLayout>
                </Border>
            </Grid>

            <!--<Button Text="Wyloguj siÄ™" 
                    TextColor="#E74C3C" 
                    BackgroundColor="Transparent" 
                    BorderColor="#E74C3C" 
                    BorderWidth="1"
                    CornerRadius="10"
                    Margin="0,20,0,0"/>-->

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>